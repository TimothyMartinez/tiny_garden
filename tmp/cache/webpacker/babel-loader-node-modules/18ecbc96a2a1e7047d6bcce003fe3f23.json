{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs2/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _server = _interopRequireDefault(require(\"react-dom/server\"));\n\nfunction handleGeneratorFunctionIssue(options) {\n  var e = options.e,\n      name = options.name;\n  var msg = '';\n\n  if (name) {\n    var lastLine = 'A generator function takes a single arg of props (and the location for react-router) ' + 'and returns a ReactElement.';\n    var shouldBeGeneratorError = \"ERROR: ReactOnRails is incorrectly detecting generator function to be false. The React\\ncomponent '\".concat(name, \"' seems to be a generator function.\\n\").concat(lastLine);\n    var reMatchShouldBeGeneratorError = /Can't add property context, object is not extensible/;\n\n    if (reMatchShouldBeGeneratorError.test(e.message)) {\n      msg += \"\".concat(shouldBeGeneratorError, \"\\n\\n\");\n      console.error(shouldBeGeneratorError);\n    }\n\n    shouldBeGeneratorError = \"ERROR: ReactOnRails is incorrectly detecting generatorFunction to be true, but the React\\ncomponent '\".concat(name, \"' is not a generator function.\\n\").concat(lastLine);\n    var reMatchShouldNotBeGeneratorError = /Cannot call a class as a function/;\n\n    if (reMatchShouldNotBeGeneratorError.test(e.message)) {\n      msg += \"\".concat(shouldBeGeneratorError, \"\\n\\n\");\n      console.error(shouldBeGeneratorError);\n    }\n  }\n\n  return msg;\n}\n\nvar handleError = function handleError(options) {\n  var e = options.e,\n      jsCode = options.jsCode,\n      serverSide = options.serverSide;\n  console.error('Exception in rendering!');\n  var msg = handleGeneratorFunctionIssue(options);\n\n  if (jsCode) {\n    console.error(\"JS code was: \".concat(jsCode));\n  }\n\n  if (e.fileName) {\n    console.error(\"location: \".concat(e.fileName, \":\").concat(e.lineNumber));\n  }\n\n  console.error(\"message: \".concat(e.message));\n  console.error(\"stack: \".concat(e.stack));\n\n  if (serverSide) {\n    msg += \"Exception in rendering!\\n\".concat(e.fileName ? \"\\nlocation: \".concat(e.fileName, \":\").concat(e.lineNumber) : '', \"\\nMessage: \").concat(e.message, \"\\n\\n\").concat(e.stack);\n\n    var reactElement = _react[\"default\"].createElement('pre', null, msg);\n\n    return _server[\"default\"].renderToString(reactElement);\n  }\n\n  return undefined;\n};\n\nvar _default = handleError;\nexports[\"default\"] = _default;","map":null,"metadata":{},"sourceType":"module"}